# 最小完备的项目

本仓库提供了最小的完备的项目的要求

## 开发环境(docker)

开发环境我们是用docker的镜像完成的。
为什么需要使用docker去搭建开发环境，docker本身的优势我们是知道的。

- 本项目主要是使用C++去做开发的，所以基本的GCC的开发编译环境是需要的，项目依赖boost，编译依赖CMake和Python。这里最主要的就是boost的编译开发环境，编译这个库需要的工作量对于一个新的开发者是不
低的。所以我们使用了一个统一的镜像环境。
- 本项目需要支持多个Linux系统，在多个系统中编译这些开发环境也是需要环境的，我们是最开始提供一个dockerfile，然后使用这个dockerfile制作多个linux版本的开发环境
- 跨平台开发，因为提供了开发环境，所以我们可以直接在mac或者任意的环境开发，而且这些都是轻量级的，没有虚拟机那么重
- 文件的统一，虽然我们已经使用了git做代码的管理，但是因为是使用docker编译的，所以我们只需要在编译的时候指定volume，这样就可以不同在不同的开发环境中都保存同一份代码了。

## 跨平台开发

在跨平台开发中我们主要支持Linux平台，Android平台，Windows平台，本项目希望能够使用一条命令就可以将编译出当前平台的代码。
当然在项目中最困难的是windows的，编译debug还是需要使用vs的IDE，但是编译的话我们直接用一行命令就可以了。

CMake是当前最流行的跨平台构建技术
除了跨平台的优势外，使用现代CMake（CMake 3.0以上）能很大程度上模块化管理

## 代码格式化

**可以集成到Cmake中**

代码格式化使用的是 clang-format
在项目中增加定制的 .clang-format 文件，然后增加一个python的格式化脚本，
这样就提供了一个同一个的格式化代码

## 静态代码检查

**可以集成到Cmake中**

在C++的代码中，提供静态代码检测是需要的，这样更好的防止错误的发生。
本项目中使用的是clang-tidy，并且cmake中支持集成这个工具。

## MR的开发流程

在搭建完基本的项目框架之后，本项目的开发流程是基本MR的开发方式。
不使用分支的原因是分支不能提供清晰的注释的地方。并且在issue提供完整的需要，在MR处提供完整的技术方案，在后期的代码查找提供了方向。
```
issue(需求)->MR(技术方案)->coding->code review->merge

```
## 基准测试

这个提供了最简功能的代码，代码核心的最简版，不提供多余的功能。
这样提供了测试的基准，新增代码对项目的性能的影响。

## 单元测试

本项目使用的是doctest，当然在不同的项目中使用单元测试是权衡的结果。

## 冒烟测试

这个主要提供了最简单的集成测试。核心代码的功能测试。

## CI的集成([Travis CI](https://travis-ci.org))

因为是在github平台，所以项目使用了Travis CI。提供了一个.travis.yml的示例。
在这个项目中CI集成的优势是提供了代码合并的要求。
在CI中我们集成了编译，单元测试，冒烟测试。
在每一次的代码提交的时候都会做一次测试，必须通过所有的测试才可以代码合并。
这样防止了主分支出现初级的错误。
